<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="SnifferAvalonia.MainWindow"
        Title="SnifferAvalonia"
        Background="Black">

    
    <Window.Styles>
        <!-- Defines start button and hover-over rule -->
        <Style Selector="Button.StartBtn">
            <Setter Property="Background" Value="Green"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>
        <Style Selector="Button.StartBtn:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="DarkGreen"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- Defines stop button and hover-over rule -->
        <Style Selector="Button.StopBtn">
            <Setter Property="Background" Value="Red"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>
        <Style Selector="Button.StopBtn:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="DarkRed"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- Separator Line -->
        <Style Selector="ListBoxItem">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#333333"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="Padding" Value="10,5"/>
        </Style>
        <!-- For when user hovers over or selects packet shows a blue box -->
        <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#2869e0"/> <Setter Property="Foreground" Value="White"/>   
        </Style>

        <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
            <Setter Property="Background" Value="#2869e0"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

    </Window.Styles>


    <Grid ColumnDefinitions="250, *">
        
        <!-- Left side: Sniffer Config, Filter, Duration, Packet Count -->
        <StackPanel Grid.Column="0" Margin="20" Spacing="15">
            <TextBlock Text="SNIFFER CONFIG" Foreground="White" FontWeight="Bold" FontSize="18"/>
            
            <StackPanel>
                <TextBlock Text="Filter" Foreground="LightGray"/>
                <TextBox x:Name="FilterBox" Watermark="(e.g., 'tcp port 80')"/>
            </StackPanel>

            <StackPanel>
                <TextBlock Text="Duration (seconds)" Foreground="LightGray"/>
                <TextBox x:Name="DurationBox" Watermark="0 for infinite!"/>
            </StackPanel>

            <StackPanel>
                <TextBlock Text="Packet Count" Foreground="LightGray"/>
                <TextBox x:Name="CountBox" Watermark="0 for infinite!"/>
            </StackPanel>
        </StackPanel>

        <Grid Grid.Column="1" RowDefinitions="Auto, Auto, *, Auto" Margin="20">
            <!-- Title -->
            <Border Grid.Row="0" Background="#D3D3D3" CornerRadius="5" Padding="15" HorizontalAlignment="Left" Margin="0,0,0,20">
                <TextBlock Text="PACKET SNIFFER PRO" FontWeight="Black" Foreground="Black" FontSize="20"/>
            </Border>

            
            <Grid Grid.Row="1" ColumnDefinitions="Auto, Auto, Auto, Auto, *, Auto, Auto" Margin="0,0,0,20">
                <!-- Sniff and Stop buttons -->
                <Button Grid.Column="0" x:Name="StartButton" Click="OnStartClick" Content="SNIFF!" Classes="StartBtn" Margin="0,0,10,0"/>
                <Button Grid.Column="1" x:Name="StopButton" Click="OnStopClick" Content="STOP!"  Classes="StopBtn" Margin="0,0,20,0"/>
                
                <!-- Toggle Boxes for Hiding Packets and Saving to File -->
                <CheckBox Grid.Column="2" x:Name="HidePacketsBox" Content="Hide Packets" Foreground="LightGray" VerticalAlignment="Center" Margin="0,0,15,0"/>
                <CheckBox Grid.Column="3" x:Name="SaveToFileBox" Content="Save to File" IsChecked="True" Foreground="LightGray" VerticalAlignment="Center"/>

                <!-- Input boxes and Dropdown for Filename and Fileformat -->
                <TextBox Grid.Column="5" x:Name="FileNameBox" Watermark="Filename" Width="150" Margin="0,0,10,0"/>
                <ComboBox Grid.Column="6" x:Name="FormatBox" SelectedIndex="0">
                    <ComboBoxItem>.csv</ComboBoxItem>
                    <ComboBoxItem>.pcap</ComboBoxItem>
                    <ComboBoxItem>.txt</ComboBoxItem>
                </ComboBox>
            </Grid>


            <!-- Packets shown here -->
            <Border Grid.Row="2" Background="#1E1E1E" CornerRadius="5" BorderBrush="Gray" BorderThickness="1">
                <ListBox x:Name="PacketList" Background="Transparent">
                    <ListBoxItem Content="[10:00:01] TCP | 192.168.1.5 -> 8.8.8.8 | Host: google.com" Foreground="LightGray"/>
                    <ListBoxItem Content="[10:00:02] UDP | 192.168.1.5 -> 1.1.1.1 | Host: cloudflare" Foreground="LightGray"/>
                    <ListBoxItem Content="[10:00:03] TCP | 192.168.1.5 -> 142.250.190.46 | Host: youtube" Foreground="LightGray"/>
                    <ListBoxItem Content="All packets will show up in a format similar to this!" Foreground="LightGray"/>
                </ListBox>
            </Border>

            <!-- Summary Box Here --> 
            <Border Grid.Row="3" Background="#252526" Height="40" Margin="0,10,0,0" CornerRadius="5">
                <TextBlock x:Name="SummaryText" 
                        Text="Ready to Sniff..." 
                        Foreground="Gray" 
                        VerticalAlignment="Center" 
                        HorizontalAlignment="Center"/>
            </Border>

        </Grid>
    </Grid>
</Window>